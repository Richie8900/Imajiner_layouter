<style>

    #explore-parent, #reliable-parent, #journey-parent{
        background-position: center;
    }

	.headingHidden {
		opacity:0;
	}
	
	.infoboxHidden{
		opacity:0;
	}
	
	.show{
		opacity:1;
	}
	
	.zoom{
		transform:(1.2);
	}
	
	.card-bg{
		background-color:black;
	}

    .sticky {
        position: -webkit-sticky;
        position: sticky;
        top: 0;
    }
	
</style>

<script>

document.addEventListener('DOMContentLoaded', function() {
    // Select elements for "explore" section
    const exploreParent = document.getElementById("explore-parent");
    const exploreHeading = document.getElementById("explore-heading");
    const exploreInfobox = document.getElementById("explore-infobox");

    // Select elements for "reliable" section
    const reliableParent = document.getElementById("reliable-parent");
    const reliableHeading = document.getElementById("reliable-heading");
    const reliableInfobox = document.getElementById("reliable-infobox");

    // Select elements for "journey" section
    const journeyBg = document.getElementById("journey-bg")
    const journeyParent = document.getElementById("journey-parent");
    const journeyHeading = document.getElementById("journey-heading");
    const journeyInfobox = document.getElementById("journey-infobox");

    function updateSection(sectionParent, sectionHeading, sectionInfobox) {
        const rect = sectionParent.getBoundingClientRect();		
        const windowHeight = window.innerHeight;
        const elementTop = rect.top;
        const elementHeight = rect.height;

        // Calculate the opacity based on scroll position
        const visibleHeight = Math.min(windowHeight, elementTop + elementHeight) - Math.max(0, elementTop);
        const totalVisibleHeight = Math.min(windowHeight, elementHeight);
        const opacity = Math.max(0, Math.min(1, visibleHeight / totalVisibleHeight));

        sectionHeading.style.opacity = opacity;
        sectionInfobox.style.opacity = opacity;

        // Calculate zoom based on scroll position
        const fadeStart = Math.max(0, -elementTop); // Start fading when the element is above the viewport
        const fadeEnd = Math.min(elementHeight, windowHeight); // End fading when the element is below the viewport
        const scrollFraction = Math.max(0, Math.min(1, (fadeStart + visibleHeight) / elementHeight));

        // Zoom out from 1.5x to 1x as the user scrolls down
        const zoomStart = 1.5;
        const zoomEnd = 0.9; 
        const zoomFactor = zoomStart - (zoomStart - zoomEnd) * scrollFraction;

        // Adjust background-size to create zoom effect
        sectionParent.style.backgroundSize = `${zoomFactor * 100}% ${zoomFactor * 100}%`;
    }

    function updateSectionV2(sectionParent, sectionHeading, sectionInfobox, sectionBg) {
        const rect = sectionParent.getBoundingClientRect();		
        const windowHeight = window.innerHeight;
        const elementTop = rect.top;
        const elementHeight = rect.height;

        // Calculate the opacity based on scroll position
        const visibleHeight = Math.min(windowHeight, elementTop + elementHeight) - Math.max(0, elementTop);
        const totalVisibleHeight = Math.min(windowHeight, elementHeight);
        const opacity = Math.max(0, Math.min(1, visibleHeight / totalVisibleHeight));

        sectionHeading.style.opacity = opacity;
        sectionInfobox.style.opacity = opacity;

        // Calculate zoom based on scroll position
        const fadeStart = Math.max(0, -elementTop); // Start fading when the element is above the viewport
        const fadeEnd = Math.min(elementHeight, windowHeight); // End fading when the element is below the viewport
        const scrollFraction = Math.max(0, Math.min(1, (fadeStart + visibleHeight) / elementHeight));

        // Zoom out from 1.5x to 1x as the user scrolls down
        const zoomStart = 1.5;
        const zoomEnd = 0.8; 
        const zoomFactor = zoomStart - (zoomStart - zoomEnd) * scrollFraction;

        // Adjust background-size to create zoom effect
        sectionParent.style.backgroundSize = `${zoomFactor * 100}% ${zoomFactor * 100}%`;

        // Zoom out from 1.5x to 1x as the user scrolls down
        const bgOpacityStart = 1;
        const bgOpacityEnd = 0; 
        const bgOpcaity = bgOpacityStart - (bgOpacityStart - bgOpacityEnd) * scrollFraction;

        sectionParent.style.opacity = `${zoomFactor * 100}% ${zoomFactor * 100}%`;
    }

    function onScroll() {
        updateSection(exploreParent, exploreHeading, exploreInfobox);
        updateSection(reliableParent, reliableHeading, reliableInfobox);
        // updateSection(journeyParent, journeyHeading, journeyInfobox);
        updateSectionV2(journeyParent, journeyHeading, journeyInfobox, journeyBg);
    }

    window.addEventListener('scroll', onScroll);
    window.addEventListener('resize', onScroll); // Update on resize to handle viewport changes
});

	
</script>